<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Insa Angular.js</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<style>
			.mjy .reveal a,
			.mjy .reveal a:hover {
				color: #eee;
			}

			.mjy .reveal section.dark {
				padding: 50px 1000px;
				margin: 0 0 0 -1000px;
				background-color: rgba(0, 0, 0, 0.1);
				border-top: 1px solid #aaa;
				border-bottom: 1px solid #aaa;
			}

			.mjy .reveal .icon-small {
				max-height: 100px;
				height: 100px;
			}

			.mjy .reveal .icon-block {
				display: block;
				margin: auto;
			}

			.mjy h5 {
				font-style: italic;
			}
		</style>
	</head>

	<body class="mjy">

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background="images/angularjs.jpg">
					<h3>Mickael Jeanroy</h3>
					<h5>mickael.jeanroy@zenika.com</h5>
					<h5>INSA LYON - IF 2014</h5>
					<h5>19 / 11 / 2014</h5>
				</section>

				<section data-background="images/who-am-i.jpg" class="dark">
					<h2 style="color: #eee">Who am I ?</h2>
					<div style="display: flex; width: 100%; margin: 50px 0;">
						<div style="flex: 1;">
							<a href="https://twitter.com/mickaeljeanroy">
								<img class="icon icon-small icon-block" src="images/twitter.png">@mickaeljeanroy
							</a>
						</div>
						<div style="flex: 1;">
							<a href="https://github.com/mjeanroy">
								<img class="icon icon-small icon-block" src="images/github.png">github.com/mjeanroy
							</a>
						</div>
					</div>
					<div style="display: flex; width: 100%; margin: 50px 0;">
						<div style="flex: 1;">
							<a href="http://if.insa-lyon.fr/">
								<img class="icon icon-small icon-block" src="images/insa-lyon.jpg">IF 2008
							</a>
						</div>
						<div style="flex: 1;">
							<a href="https://twitter.com/ZenikaIT">
								<img class="icon icon-small icon-block" src="images/zenika.jpeg">@ZenikaIT
							</a>
						</div>
					</div>
				</section>

				<section>
					<h2><img style="height: 100px; border: none;" src="images/zenika.jpg"></h2>
					<div style="width: 100%; margin: 50px; 0;">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/java8.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/spring.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/hibernate.png">
					</div>

					<div style="width: 100%; margin: 50px; 0;">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/mongo.jpeg">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/eslogo.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/redis_logo.png">
					</div>

					<div style="width: 100%; margin: 50px; 0;">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/html5.gif">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/angular_logo.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/nodejs-logo.png">
					</div>
				</section>

				<section>
					<h2>Programme</h2>
					<ol>
						<li>Javascript</li>
						<li>Ecosystème</li>
						<li>Angular.js</li>
						<li>TP</li>
						<li>Build your own Angular.js</li>
					</ol>

					<div style="font-style: italic; margin-top: 50px;"><small>Du code, beaucoup de code !</small></div>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Introduction</h5>
					<ul>
						<li>Créé en 1995 par Brendan Eich pour Netscape</li>
						<li>
							Standardisé: ECMAScript
							<ul>
								<li>ECMAScript 3 : 1999</li>
								<li><strong>ECMAScript 5 : 2009</strong></li>
								<li>ECMAScript 6 : encore en cours de développement !</li>
							</ul>
						</li>
						<li>ECMAScript 5 est la version actuellement implémentée dans les navigateurs (Chrome, Firefox, Safari, IE10)</li>
						<li>Souvent considéré comme un langage "sale", pas maintenable etc.</li>
						<li>On va voir aujourd'hui qu'en connaissant ses faiblesses, il devient au contraire un langage très puissant.</li>
					</ul>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Introduction</h5>
					<img src="images/javascript-the-good-parts-the-definitive-guide.jpg">
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Introduction</h5>
					<ul>
						<li>Langage de script</li>
						<li>
							S'exécute dans une VM (Virtual Machine)
							<ul>
								<li>Browser: V8 (Chrome) ; SpiderMonkey (Firefox) ; JavaScriptCore (Safari) etc.</li>
								<li>Serveur: V8 (NodeJS) ; Rhino (Java) etc.</li>
							</ul>
						</li>
						<li>La mémoire est gérée grâce à un <strong>garbage collector</strong></li>
						<li>Langage <strong>dynamique</strong></li>
						<li>Langage <strong>faiblement typé</strong></li>
						<li>Langage <strong>orienté prototype</strong></li>
					</ul>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Debug</h5>
					<ul>
						<li>Le plus basique: console.log</li>
						<li>Permet de laisser des traces sur les appels</li>
						<li>Attention: certaines vieilles versions d'IE ne le supportent pas</li>
					</ul>
										<pre><code class="javascript">
// Fonction nommée "foo"
function foo() {
  console.log('hello world', 'hello bar');
}
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Debug</h5>
					<ul>
						<li><strong>Chrome Dev Tools</strong> : le meilleur !</li>
						<li>Firebug</li>
						<li>Safari Web Inspector</li>
						<li>Opera DragonFlyx</li>
						<li>IE : présent depuis IE9</li>
					</ul>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Introduction</h5>
					<img src="images/dev-tools-1.png">
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Introduction</h5>
					<img src="images/dev-tools-2.png">
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Introduction</h5>
					<img src="images/dev-tools-3.png">
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage faiblement typé</h5>
					<ul>
						<li>Le mot clé "var" permet de déclarer une variable</li>
						<li>Peu de type: number, string, boolean, function, null</li>
						<li>Une variable sans aucune valeur est "undefined"</li>
						<li>Les objets et les tableaux permettent de les composer</li>
						<li>Une variable n'a pas de type fixe (typage dynamique)</li>
					</ul>
					<pre><code class="javascript">
var foo;
console.log(foo); // 'undefined'
console.log(typeof foo); // 'undefined'

foo = 5;
console.log(typeof foo); // 'number'

foo = 'string';
console.log(typeof foo); // 'string'

foo = true;
console.log(typeof foo); // 'boolean'
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Les tableaux</h5>
					<ul>
						<li>Une seule structure de données: les tableaux</li>
						<li>Suite ordonnée d'éléments, chaque élément étant accessible par son index</li>
						<li>La propriété "length" donne la taille du tableau</li>
						<li>ECMAScript 6 apporte de nouvelles structures de données: Set, WeakSet, Map, WeakMap</li>
					</ul>
					<pre><code class="javascript">
var foo = [1, 2, 3];
console.log(foo); // [1, 2, 3]

foo.push('string', true);
console.log(foo); // [1, 2, 3, 'string', true]

console.log(foo.length); // 5
console.log(foo[4]); // true
console.log(foo[5]); // undefined
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Les objets</h5>
					<ul>
						<li>En javascript, un objet est dynamique: on peut lui rajouter un attribut au runtime</li>
						<li>Ni plus, ni moins qu'une map clé valeur</li>
					</ul>
					<pre><code class="javascript">
var foo = {};
console.log(typeof foo); // 'object'
console.log(foo); // {}

foo = {
  id: 1
};
console.log(foo); // {id: 1}

foo.name = 'Mickael';
console.log(foo); // {id: 1, name: 'Mickael'}

foo.skills = ['Js', 'Java'];
console.log(foo.skills); // ['Js', 'Java']
console.log(foo['skills']); // ['Js', 'Java']
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Les objets</h5>
					<ul>
						<li>Il est possible d'itérer simplement sur tous les attributes d'un object</li>
					<pre><code class="javascript">
var foo = {
  id: 1,
  name: 'foo'
};

for (var key in foo) {
  console.log(key + ' = ' + foo[key]);
}

// id = 1
// name = foo
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Spécificités</h5>
					<ul>
						<li>
							En javascript, on distingue égalité et égalité stricte
							<ul>
								<li>L'opérateur "==" (négation: "!=") permet de comparer deux objets indépendamment du type</li>
								<li>L'opérateur "===" (négation: "!==") permet de comparer deux objets en prenant en compte les types</li>
							</ul>
						</li>
						<li>Pour le cas des objets et des tableaux, c'est toujours une comparaison d'instance qui est faite!</li>
					</ul>
					<pre><code class="javascript">
var foo = 1;
var bar = '1';
console.log(foo == bar);  // true
console.log(foo === bar); // false

console.log([1, 2, 3] == [1, 2, 3]);  // false
console.log([1, 2, 3] === [1, 2, 3]); // false
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Spécificités</h5>
					<ul>
						<li>Question: qu'affiche ce code ?</li>
					</ul>
					<pre><code class="javascript">
console.log('' == '0');  // ???
console.log('' == 0);    // ???
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Spécificités</h5>
					WTF ??
					<pre><code class="javascript">
console.log('' == '0');  // false
console.log('' == 0);    // true
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Spécificités</h5>
					http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.1
					<img src="images/equality.png">
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Spécificités</h5>
					<ul>
						<li>Pour simplifier: Javascript essaye de rapprocher les variables vers deux types identiques.</li>
						<li>Cela peut amener à quelques spécificités un peu "étranges".</li>
						<li>Simplifiez-vous la vie, <strong>utilisez toujours l'égalité stricte !</strong></li>
					</ul>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<ul>
						<li>En javascript, les fonctions sont partout</li>
						<li>Considéré comme un type comme un autre: le type "function" est un type comme un autre</li>
						<li>Une fonction peut être nommée ou anonyme</li>
					</ul>
					<pre><code class="javascript">
// Fonction nommée "foo"
function foo() {
  console.log('hello world');
}

foo();

// Fonction anonyme qu'on affecte à une variable "foo"
var foo = function () {
  console.log('hello world');
};

foo();
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<ul>
						<li>Une fonction a un <strong>nombre de paramètre variable</strong></li>
						<li>Le mot clé "arguments" au sein d'une fonction permet de récupérer la liste des paramètres</li>
						<li>Une fonction peut ne rien retourner</li>
					</ul>
					<pre><code class="javascript">
// Fonction nommée "foo"
function foo(param1, param2) {
  console.log(param1, param2, 'arguments = ', arguments);

  if (param1 === 1) {
    return true;
  }
}

foo();         // undefined, undefinfed, arguments = []
foo(1);        // 1, undefinfed, arguments = [1]
foo(1, 2);     // 1, 2, arguments = [1, 2]
foo(1, 2, 3);  // 1, 2, arguments = [1, 2, 3]
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<ul>
						<li>Une fonction peut être donnée en paramètre à une autre fonction</li>
						<li>Une fonction peut retourner une autre fonction</li>
						<li>En langage fonctionnel, de telles fonctions sont appelées <strong>fonctions d'ordre supérieur</strong></li>
						<li>Une fonction peut également être affectée à un <strong>attribut d'un objet</strong></li>
						<li>Avec Angular.js, on manipule et on écrit des fonctions <strong>tout le temps</strong></li>
					</ul>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<pre><code class="javascript" style="max-height: none;">
// Fonction nommée "foo": cette fonction prend en paramètre une fonction
// à exécuter
function foo(func) {
  func();
}

// Ce code donne une fonction anonyme en paramètre de la fonction "foo"
foo(function () {
  console.log('hello world');
});

// Ce code déclare une fonction nommée "myFunc"
// Cette fonction est ensuite donnée en paramètre de la fonction "foo"
function myFunc() {
  console.log('hello world');
}

foo(myFunc);
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<pre><code class="javascript" style="max-height: none;">
// Fonction nommée "foo"
// Cette fonction renvoie une fonction permettant de "logguer" le
// contenu d'un tableau lorsqu'elle est exécutée
function foo(array) {
  return function () {
    for (var i = 0; i < array.length; i++) {
      console.log(array[i]);
    }
  };
}

var displayArray1 = foo([1, 2, 3]);
var displayArray2 = foo(['foo', 'bar']);

displayArray1(); // 1, 2, 3
displayArray2(); // 'foo', 'bar'
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<pre><code class="javascript">
// On déclare un objet avec une fonction comme attribut
var batman = {
  name: 'Batman',
  speak: function () {
    console.log('I am Batman');
  }
};

console.log(batman); // {name: "Batman", speak: function} 
console.log(typeof batman.speak); // 'function'

// Exécution de la fonction
batman.speak(); // 'I am Batman'
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					Comme beaucoup de langages fonctionnels, ECMAScript 5 rajoute des fonctions de manipulation de listes: forEach, map, some, every, reduce etc.
					<pre><code class="javascript">
// Exécute une fonction sur chaque élément d'un tableau
[1, 2, 3].forEach(function (current, idx) {
  console.log(current, idx);
});

// Applique une transformation à chaque élément et retourne
// un nouveau tableau contenant tous les résultas
// Ex: Multiplication par deux de tous les éléments
var newArray = [1, 2, 3].map(function (current) {
  return current * 2;
});

console.log(newArray); // 2, 4, 6
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté fonctionnel</h5>
					<pre><code class="javascript" style="max-height: none;">
// Vérifie une condition sur chaque élément d'un tableau
// Est-ce que tous les éléments sont pairs ?
[2, 4, 6].every(function (current) {
  return current % 2 === 0;
});

// Vérifie qu'une condition est vérifié sur au moins un élément d'un tableau
// Est-ce qu'au moins un élément est pair ?
[1, 2, 3].some(function (current) {
  return current % 2 === 0;
});

// Réduit le contenu du tableau à une valeur
// Ex: somme de tous les éléments du tableau
var reduceValue = [1, 2, 3].reduce(function (memo, current) {
  return memo += current;
}, 0);

console.log(reduceValue); // 6
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté prototype</h5>
					<ul>
						<li>Le langage Javascript n'est pas un langage orienté objet</li>
						<li>Mais, cela ne signifie pas qu'on ne peut utiliser des objets !</li>
						<li>On peut déclarer des constructeurs, la forme la plus classique est d'instantier une fonction avec le mot clé "new"</li>
					</ul>
					<pre><code class="javascript">
// Fonction nommée "foo"
var Hero = function (name) {
  this.name = name;
  this.speak = function () {
    console.log('I am ' + this.name);
  };
};

var batman = new Hero('Batman');
var superman = new Hero('Superman');

batman.speak();   // I am Batman
superman.speak(); // I am Superman
console.log(batman.speak === superman.speak); // false
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté prototype</h5>
					<ul>
						<li>Chaque objet dispose d'un "prototype"</li>
						<li>Un prototype n'est rien de plus qu'une liste de propriétés (a.k.a un objet) <strong>partagé</strong> par toutes les instances d'un même type</li>
					</ul>
					<pre><code class="javascript">
var Hero = function (name) {
  this.name = name;
};

Hero.prototype = {
  speak: function () {
    console.log('I am ' + this.name);
  }
};

var batman = new Hero('Batman');     // I am Batman
var superman = new Hero('Superman'); // I am Superman
console.log(batman.speak === superman.speak); // true
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté prototype</h5>
					<ul>
						<li>ECMAScript 5 introduit la fonction Object.create pour créer un objet en lui donnant son "prototype"</li>
					</ul>
					<pre><code class="javascript">
var prototype = {
  speak: function () {
    console.log('I am ' + this.name);
  }
};

var batman = Object.create(prototype);
batman.name = 'Batman';

var superman = Object.create(prototype);
superman.name = 'Superman';
					</code></pre>
				</section>

				<section>
					<h2>Javascript</h2>
					<h5>Un langage orienté prototype</h5>
					<ul>
						<li>
							Le langage Javascript ne possède pas de "classe" au sens orienté objet.
							<ul>
								<li>Pas d'héritage</li>
								<li>Pas de visibilité "private" ou "protected"</li>
							</ul>
						</li>
						<li>ECMAScript 6 introduit la notion de classes, mais reste limité à ce qu'on vient de voir (pas de visibilité, etc.)</li>
					</ul>
				</section>

				<section>
					<h2>Ecosystème</h2>
					<h5>Frameworks</h5>
					<div style="width: 100%; margin: 50px; 0;">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/jquery.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/backbone.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/AngularJS-large.png">
					</div>
				</section>

				<section>
					<h2>Ecosystème</h2>
					<h5>Bonnes pratiques</h5>
					<ul>
						<li>
							Pendant longtemps, le Javascript est resté très "artisanal"
							<ul>
								<li>Pas de tests automatisés</li>
								<li>Pas d'outils pour récupérer automatiquement ses librairies</li>
							</ul>
						</li>
						<li>Depuis quelques années, la communauté a développé tous les outils nécessaires !</li>
						<li>Ces outils sont basés sur node.js</li>
					</ul>
				</section>

				<section>
					<h2>Ecosystème</h2>
					<h5>Bonnes pratiques</h5>
					<ul>
						<li>
							Avant de livrer une application en production, il faut la "builder"
							<ul>
								<li>Concaténer ses fichiers javascript en un seul fichier</li>
								<li>Minifier son code Javascript</li>
								<li>Gzipper ses fichiers</li>
								<li>Jouer les tests unitaires pour s'assurer de la stabilité du code</li>
							</ul>
						</li>
						<li>Le but est de réduire le poids de la page, et donc améliorer l'expérience utilisateur !</li>
						<li>Necessité <strong>d'automatiser</strong> ces tâches</li>
					</ul>
				</section>

				<section>
					<h2>Ecosystème</h2>
					<h5>Build</h5>
					<div style="width: 100%; margin: 50px; 0;">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/grunt.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/bower.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/gulp.png">
					</div>
				</section>

				<section>
					<h2>Ecosystème</h2>
					<h5>Test unitaires</h5>
					<div style="width: 100%; margin: 50px; 0;">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/karma.png">
						<img class="icon icon-small" style="border: none; margin: 0 10px;" src="images/jasmine.png">
					</div>
				</section>

				<section>
					<img src="images/AngularJS-large.png">
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>by Google</h5>
					<ul>
						<li>Angular.js est un framework javascript "full stack"</li>
						<li>Développé par Google (Miško Hevery, Igor Minar, Vojta Jina, etc.)</li>
						<li>Version 1.3.2</li>
						<li>Open source: https://github.com/angular/angular.js</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Introduction</h5>
					<ul>
						<li>Data binding</li>
						<li>Single Page Application (SPA)</li>
						<li>REST</li>
						<li>Dependency Injection (DI)</li>
						<li>MVC</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Introduction</h5>
					<div>DEMO</div>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Composants</h5>
					<ul>
						<li>Module</li>
						<li>Contrôleurs</li>
						<li>Formulaires</li>
						<li>Services et factory</li>
						<li>Filtres</li>
						<li>Directives</li>
						<li>Routeur</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Module</h5>
					<ul>
						<li>Contient les différents composants de votre application</li>
						<li>Toute application contient au moins un module</li>
						<li>On le déclare dans le code (avec l'attribut ng-app) et dans un fichier Javascript</li>
					</ul>
					<pre><code class="html">
&lt;html ng-app="myApp"&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script type="text/javascript" src="angular.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="myApp.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
					</code></pre>
					<pre><code class="javascript">
// Création d'un module dans myApp.js
var myAppModule = angular.module('myApp', []);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Module</h5>
					<ul>
						<li>Equivalent d'un "main" (point d'entrée de votre application)</li>
						<li>Tous les composants de votre application seront créés au sein de votre module</li>
						<li>Le deuxième paramètre est la liste des modules dont votre application dépend</li>
						<li>Pour récupérer un module sans le créer, il suffit de ne pas préciser le second paramètre</li>
					</ul>
					<pre><code class="javascript">
// Création d'un module
var myAppModule = angular.module('myApp', []);

// Récupération du module
var module = angular.module('myApp');

console.log(myAppModule === module); // true
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Contrôleurs</h5>
					<img src="images/mvc.png">
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Contrôleurs</h5>
					<ul>
						<li>Un contrôleur contient la logique (le comportement) associée à votre page HTML (qui représente la vue du modèle M<strong>V</strong>C)</li>
						<li>C'est un contrôleur conforme au pattern MV<strong>C</strong></li>
						<li>Un contrôleur angular.js n'est rien d'autre qu'une fonction !</li>
					</ul>
					<pre><code class="html">
<div ng-controller="myController">
  <p>Ma page HTML</p>
</div>
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', function () {
    // Le code de votre contrôleur !
  });
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Contrôleurs</h5>
					<ul>
						<li>Pour afficher des données gérées dans votre contrôleur, il faut les partager à la vue</li>
						<li>Pour partager des données, on utilise l'objet $scope</li>
						<li>C'est le <strong>M</strong> du modèle <strong>M</strong>VC</li>
					</ul>
					<pre><code class="html">
<div ng-controller="myController">
  <p>Hello {{ name }}</p>
</div>
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', function ($scope) {
    $scope.name = 'world';
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Contrôleurs</h5>
					<ul>
						<li>L'objet $scope a été instancié par Angular.js : notre application ne crée pas d'objets, mais <strong>demande à Angular.js de nous les fournir</strong></li>
						<li>C'est <strong>l'injection de dépendance</strong></li>
						<li>
							C'est un concept qu'on retrouve dans beaucoup d'autres langages et frameworks
							<ul>
								<li>Java: Spring, CDI</li>
								<li>PHP: Symfony</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>$scope</h5>
					<ul>
						<li>
							L'objet $scope est un objet très important</strong>
							<ul>
								<li>Il contient les données accessible depuis la page HTML</li>
								<li>Il hérite (au sens héritage prototypal) de ses scopes parents</li>
								<li>Il possède des méthodes utiles: $watch ; $on</li>
								<li>Tout objet $scope hérite forcément du <strong>$rootScope</strong></li>
								<li>Toute application Angular.js possède <strong>un (et un seul) $rootscope</strong></li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>$scope</h5>
					Chaque $scope hérite de son scope parent (défini par l'arborescence du dom)
					<pre><code class="html">
<div ng-controller="myController">
  <div ng-controller="myOtherContoller">
  </div>
</div>
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', function ($scope) {
    $scope.name = 'world';
  }]);

angular.module('myApp')
  .controller('myOtherController', ['$scope', function ($scope) {
    console.log($scope.name); // world
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>$scope</h5>
					<ul>
						<li>La méthode $watch permet d'exécuter du code quand une valeur change</li>
						<li>Ressemble fortement à Object.observe</li>
					</ul>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', function ($scope) {
    $scope.name = 'world';

    $scope.$watch('name', function (newValue, oldValue) {
      console.log(newValue, oldValue);
    });
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>$scope</h5>
					<ul>
						<li>La méthode $on permet d'écouter un évenement provenant d'un autre contrôleur</li>
						<li>Une façon de faire communiquer des contrôleurs (mais pas toujours la bonne façon)</li>
					</ul>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', '$rootScope', function ($scope, $rootScope) {
    $scope.name = 'world';

    $scope.$on('myEvent', function (event, param1) {
      console.log(param1);
    });

    $rootScope.$broadcast('myEvent', 'foo');
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Formulaires</h5>
					<ul>
						<li>Pour récupérer les valeurs saisies dans un formulaire, on utilisera l'attribut ng-model</li>
						<li>Le double binding d'Angular.js nous permet de récupérer les saisies en quelques lignes</li>
						<li>Au fur et à mesure de la saisie, les variables du scope sont mises à jour par Angular.js</li>
						<li>C'est ce qu'on appelle le <strong>double binding</strong></li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Formulaires</h5>
					Exemple
					<pre><code class="html">
<div ng-controller="myController">
  <form>
    <input type="text" ng-model="name">
    Message: {{ name }}
  </form>
</div>
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', function ($scope) {
    $scope.name = 'hello world';

    $scope.$on('name', function (newValue) {
      console.log(newValue);
    }):
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Factory</h5>
					<ul>
						<li>Une factory permet d'extraire des composants ré-utilisables</li>
						<li>On peut le récupérer dans un contrôleur par injection de dépendance</li>
						<li>C'est à la factory d'instancier le composant</li>
					</ul>
					<pre><code class="javascript">
angular.module('myApp')
  .factory('myComponent', function () {
    return {
      helloWorld: function () {
        console.log('hello world');
      }
    };
  })
  .controller('myController', ['$scope', 'myComponent',
    function ($scope, myComponent) {
      $scope.message = myComponent.helloWorld();
    }
  ]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Factory</h5>
					<ul>
						<li>La factory est exécutée la première fois où le composant est injecté</li>
						<li>Le composant ne sera créé qu'une et une seule fois (singleton): idéal pour partager des données entre contrôleurs !</li>
						<li>Idéal pour factoriser du code entre contrôleurs</li>
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Service</h5>
					<ul>
						<li>Un service ressemble à une factory avec une différence : l'objet est déjà instancié</li>
						<li>On définit juste les attributs sur l'objet "this" (qui représente l'objet instancié)</li>
						<li>Peut être vu comme un raccourci pour écrire une factory</li>
					</ul>
					<pre><code class="javascript">
angular.module('myApp');
  .service('myComponent', function () {
    this.helloWorld = function () {
      return 'Hello World';
    };
  })
  .controller('myController', ['$scope', 'myComponent',
    function ($scope, myComponent) {
      $scope.message = myComponent.helloWorld();
    }
  ]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Filtres</h5>
					<ul>
						<li>Un filtre est un composant permettant d'altérer l'affichage d'une valeur</li>
						<li>Evalué lorsque le DOM est affiché / rafraichi (à chaque fois !)</li>
						<li>Permet de bien séparer l'affichage de la manipulation des données</li>
						<li>Un exemple est l'utilisation du filtre angular "date"</li>
					</ul>
					<pre><code class="html">
&lt;div ng-conroller="myController"&gt;
  &lt;Current date: {{ myDate | date:'dd/MM/yyyy' }}&gt;
&lt;/div&gt;
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', function ($scope) {
    $scope.myDate = new Date();
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Filtres</h5>
					<ul>
						<li>
							Angular fournit une collection de filtres prêts à l'emploi
							<ul>
								<li>date</li>
								<li>number</li>
								<li>currency</li>
								<li>uppercase / lowercase</li>
								<li>etc.</li>
							</ul>
						</li>
						<li>La documentation est très bien faite !</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Filtres</h5>
					<ul>
						<li>Un filtre peut également être utilisé dans un contrôleur</li>
					</ul>
					<pre><code class="html">
&lt;div ng-conroller="myController"&gt;
  Current date: {{ myDate }}&gt;
&lt;/div&gt;
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', '$filter',
    function ($scope, $filter) {
      $scope.myDate = $filter('date')(new Date(), 'dd/MM/yyyy');
    }
  ]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Filtres</h5>
					<ul>
						<li>Les filtres peuvent se chaîner (comme un pipe unix)</li>
					</ul>
					<pre><code class="html">
&lt;div ng-conroller="myController"&gt;
  Current date: {{ myDate | date:'dd/MMMMM/yyyy' | uppercase }}&gt;
&lt;/div&gt;
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', ['$scope', function ($scope) {
    $scope.myDate = new Date();
  }]);
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Filtres</h5>
					<ul>
						<li>Ecrire son propre filtre consiste "juste" à écrire une fonction !</li>
					</ul>
					<pre><code class="html">
&lt;div ng-conroller="myController"&gt;
  foo filter {{ myData | foo }}&gt;
&lt;/div&gt;
					</code></pre>
					<pre><code class="javascript">
angular.module('myApp')
  .controller('myController', function ($scope) {
    $scope.myData = 'hello';
  })
  .filter('foo', function () {
    // On retourne une fonction qui sera exécutée à chaque rafraichissement
    return function (param) {
      return param + ' foo';
    };
  });
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Directives</h5>
					<ul>
						<li>Les directives représentent une extention du DOM</li>
						<li>Peut être utilisé comme un attribut ou une nouvelle balise</li>
						<li>Les attributs ng-controller / ng-app sont des directives !</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Directives</h5>
					<pre><code class="javascript">
module.directive('ngBind', function () {
  return function (scope, element, attrs) {
    scope.$watch(attrs.ngBind, function (newValue) {
      element.html(newValue);
    });
  };
});
					</code></pre>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Directives</h5>
					<ul>
						<li>Sujet vaste et compliqué qu'on n'abordera pas plus aujourd'hui</li>
						<li>Nombreux exemples sur Github (angular-ui, angular-strap)</li>
						<li>Beaucoup de directives Angular.js (ngBind, ngModel, etc.) sont simples à lire et sont très instructives</li>
					</ul>
				</section>

				<section>
					<h2>Angular.js</h2>
					<h5>Best practices</h5>
					<ul>
						<li>Pas de manipulation du DOM dans un contrôleur : c'est le rôle d'une directive !</li>
						<li>La customisation de l'affichage doit être fait dans un filtre</li>
						<li>Gardez vos contrôleurs simple et "petit"</li>
						<li>Utiliser des services pour factoriser du code et extraire le code "compliqué" des contrôleurs</li>
						<li><strong>Faites des tests unitaires</strong> : jasmine + karma = :)</li>
					</ul>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
